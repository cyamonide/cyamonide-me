# Structures part 2

## Templates and data-directed design

One of the main ideas of the HtDP textbook is that the form of a program often mirrors the form of the data.  

```
;; Resource is a (make-resource Nat Nat) container to keep track of
;;  in-game resources.
(define-struct resource (gold food))

;; resource-template
;; Resource -> Any
(define (resource-templtae res)
  ( ... (resource-gold res) ...
    ... (resource-food res) ...
    )
)
```

## Design recipe for compound data

Do the usual design for every function:  

__Data analysis and def'n:__ define any new structures needed based on problem description  

__Template:__ created once for each structure type, used for functions that consume that type  

### Do I use the usual

__Purpose__ same as before  

__Contract__ can use both built-in  data types and defined structure names  

__Examples__ same

__Definition based on examples

__Tests__ same as before.

## Dealing with mixed data

See lec notes

## anyof types

;; mminfo-artist: (anyof SongInfo MovieInfo) -> Str

## Checked functions

We can write a safe version of make-posn

```
;; safe-make-posn: Num Num ->Posn
(define (safe-make-posn x y)
	(cond [(and (number? x) (number? y)) (make-posn x y)]
	[else (error "numerical arguments required")]))
```

