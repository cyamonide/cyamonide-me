## Midterm

Grammar and Syntax will be on midterm; Structures are not.  
Midterm seating assignment released soon.  
Know design recipe by heart.  

<hr>

Notes continued from last class. See that file.

# Structures

##  Compound data

Teaching languages provide a general mechanism called __structures.__  

They permit the "bundling" of several values into one.  

There is also one predefined structure, `posn`, to provide an example.

__Example:__
```
;; Manhattan distance
(define (dist-Manhattan position)
	(+
		(posn-x position)
		(posn-y position)
	))

(dist-Manhattan (make-posn 1 1))
(dist-Manhattan (make-posn 3 4))
```

An expression such as `(make-posn 8 1)` is considered a value. The expression 

`(make-posn 5 7)` is a value. Cannot be further simplified. `(+ 5 7)` is not a value. Can be further simplified. `(make-posn 5 7)` is exactly how Racket represents the structure.  

Functions may also __return structures__  

## Misusing posns

```
(define (Lerp v0 v1 t)
	(make-posn
		(+ (* (- 1 t) (posn-x v0)) (* t (posn-x v1)))
		(+ (* (- 1 t) (posn-x v0)) (* t (posn-x v1)))
	)
)

(Lerp (make-posn 'tony 'stark))
```

This causes a run-time error, but at a surprising point.  

## Typing

Racket does not enforce contracts, which are just comments (ignored by machine).  

Types are associated with values, not with constants or parameters.  

This is known as __dynamic typing__.  

## Defining structures

If `posn` wasn't built in, we could define it: `(define-struct posn(x y))`  

```
(define-struct vector3d (x y z))

(make-vector3d 5 6 7)
(vector3d-x (make-vector3d 5 6 7))
(vector3d-y (make-vector3d 5 6 7))
(vector3d-z (make-vector3d 5 6 7))
```

## Stepping with structures